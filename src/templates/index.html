<!-- must be saved as "./templates/index.html" relative to "server.py"
     requirement of flask that it has to be this way -->

<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8">
    <title>KuSu</title>

    <style>
      body {
        font-family: Verdana;
        background-color: rgba(200, 200, 200, 1);

      }

      * {
            margin: 0;
            padding: 0;
        }
        .imgbox {
            display: grid;
            height: 100%;
        }
        .center-fit {
            max-width: 100%;
            max-height: 100vh;
            margin: auto;
        }

      img {
        position: absolute;
        opacity: 0.4;
        top: 0px;
        left: 0px;
        width: 1920px;
        height: 1440px;
        margin: 0;
        z-index: -1;
      }

      table, th, tr, td {
        border: 1px solid;
        background-color: white;
        margin: 0px;
      }

      td {
        padding: 5px;
      }

      #cellRed {
        background-color: red;
      }

      #cellGreen {
        background-color: green;
      }

      #cellYellow {
        background-color: yellow;
      }

      #cellBlack {
        background-color: black;
        color: white;
      }

      #cellBlue {
        background-color: blue;
        color: white;
      }

      #cellViolet {
        background-color: violet;
        color: white;
      }

      #cellOrange {
        background-color: orange;
      }

      #cellWhite {
        background-color: white;
      }

      #cellPurple {
        background-color: purple;
        color: white;
      }

      #cellTurquoise {
        background-color: turquoise;
      }

      #cellLightGreen {
        background-color: lightgreen;
      }

      #cellIndigo {
        background-color: indigo;
        color: white;
      }

      #cellDarkYellow {
        background-color: rgb(253, 198, 11);
      }

      #cellOrangeRed {
        background-color: orangered;
      }

      #cellGold {
        background-color: gold;
      }

      #cellBrown {
        background-color: brown;
        color: white;
      }

      #cellGray {
        background-color: gray;
      }

      #colorChoice, #yearChoice, #categoryChoice {
        display: none;
      }

      #minYear, #maxYear {
        width: 100px;
      }

      #bottomtext {
        font-size: 10pt;
      }

    </style>


    <script>

      function getCategories() {
        var catlist = "";

          if (document.getElementById("cat1").checked) {
            catlist = catlist + "cat1,";                        // replace desired backend variable name here
          }


          if (document.getElementById("cat2").checked) {
            catlist = catlist + "cat2,";                        // and here
          }


          if (document.getElementById("cat3").checked) {
            catlist = catlist + "cat3,";                        // and here
          }


          if (document.getElementById("cat4").checked) {
            catlist = catlist + "cat4,";                        // and here
          }


          if (document.getElementById("cat5").checked) {
            catlist = catlist + "cat5,";                        // and here
          }


          if (document.getElementById("cat6").checked) {
            catlist = catlist + "cat6,";                        // and here
          }


        return catlist.slice(0,-1);
      }

      function getColors() {

        var colorlist = "";

        if (document.getElementById("colorRed").checked) {
          colorlist = colorlist + "rot,";
        }

        if (document.getElementById("colorYellow").checked) {
          colorlist = colorlist + "gelb,";
        }

        if (document.getElementById("colorBlue").checked) {
          colorlist = colorlist + "blau,";
        }

        if (document.getElementById("colorBlack").checked) {
          colorlist = colorlist + "schwarz,";
        }

        if (document.getElementById("colorGreen").checked) {
          colorlist = colorlist + "grün,";
        }

        if (document.getElementById("colorViolet").checked) {
          colorlist = colorlist + "violett,";
        }

        if (document.getElementById("colorOrange").checked) {
          colorlist = colorlist + "orange,";
        }

        if (document.getElementById("colorWhite").checked) {
          colorlist = colorlist + "weiß,";
        }

        if (document.getElementById("colorPurple").checked) {
          colorlist = colorlist + "purpur,";
        }

        if (document.getElementById("colorTurquoise").checked) {
          colorlist = colorlist + "blaugrün,";
        }

        if (document.getElementById("colorLightGreen").checked) {
          colorlist = colorlist + "hellgrün,";
        }

        if (document.getElementById("colorIndigo").checked) {
          colorlist = colorlist + "blauviolett,";
        }

        if (document.getElementById("colorDarkYellow").checked) {
          colorlist = colorlist + "dunkelgelb,";
        }

        if (document.getElementById("colorOrangeRed").checked) {
          colorlist = colorlist + "orangerot,";
        }

        if (document.getElementById("colorGold").checked) {
          colorlist = colorlist + "gold,";
        }

        if (document.getElementById("colorBrown").checked) {
          colorlist = colorlist + "braun,";
        }

        if (document.getElementById("colorGray").checked) {
          colorlist = colorlist + "grau,";
        }

        return colorlist.slice(0,-1);
      }

      function send() {

        var form = document.createElement("form");
        form.method = "POST";

        var objquery = document.createElement("input");
        objquery.type = "hidden";
        objquery.name = "query";
        objquery.value = document.getElementById("query").value;
        form.appendChild(objquery);

        var objcolors = document.createElement("input");
        objcolors.type = "hidden";
        objcolors.name = "colors";
        objcolors.value = getColors();
        form.appendChild(objcolors);

        var objcategories = document.createElement("input");
        objcategories.type = "hidden";
        objcategories.name = "categories";
        objcategories.value = getCategories();
        form.appendChild(objcategories);

        document.body.appendChild(form);
        form.submit();
      }

      function toggleColor() {
        var tc = document.getElementById("colorChoice");
        if (tc.style.display === "block") {
          tc.style.display = "none";
          document.getElementById("toggleColorButton").innerText = "Einblenden";

        } else {
          tc.style.display = "block";
          document.getElementById("toggleColorButton").innerText = "Ausblenden";
        }
      }

      function toggleCategory() {
        var tc = document.getElementById("categoryChoice");
        if (tc.style.display === "block") {
          tc.style.display = "none";
          document.getElementById("toggleCategoryButton").innerText = "Einblenden";

        } else {
          tc.style.display = "block";
          document.getElementById("toggleCategoryButton").innerText = "Ausblenden";
        }
      }

    </script>

  </head>

  <body>

    <div class="imgbox">
      <img class="center-fit" src="/static/Trichosurus_caninus.jpg">
    </div>

    <h1>KuSu</h1>

    <table>
      <tr>


        <td>
          <label for="query">Anfrage: </label>
          <input type="text" id="query" name="query">
          <button type="submit" onclick="send()">Suchen</button>                    <!-- Make a button of this and have it call JS, create invi form and submit -->
        </td>

        <td>
          <table>
            <tr>
              <td>
                <p>Farben</p>
              </td>
              <td>
                <button id="toggleColorButton" onclick="toggleColor()">Einblenden</button>
              </td>
            </tr>
          </table>

          <div id="colorChoice">
            <table>
              <tr>
                <td id="cellRed">
                  <label for="colorRed">Rot</label>
                  <input type="checkbox" id="colorRed">
                </td>
                <td id="cellYellow">
                  <label for="colorYellow">Gelb</label>
                  <input type="checkbox" id="colorYellow">
                </td>
                <td id="cellBlue">
                  <label for="colorBlue">Blau</label>
                  <input type="checkbox" id="colorBlue">
                </td>
                <td id="cellBlack">
                  <label for="colorBlack">Schwarz</label>
                  <input type="checkbox" id="colorBlack">
                </td>
              </tr>

              <tr>
                <td id="cellGreen">
                  <label for="colorGreen">Grün</label>
                  <input type="checkbox" id="colorGreen">
                </td>
                <td id="cellViolet">
                  <label for="colorViolet">Violett</label>
                  <input type="checkbox" id="colorViolet">
                </td>
                <td id="cellOrange">
                  <label for="colorOrange">Orange</label>
                  <input type="checkbox" id="colorOrange">
                </td>
                <td id="cellWhite">
                  <label for="colorWhite">Weiß</label>
                  <input type="checkbox" id="colorWhite">
                </td>
              </tr>

              <tr>
                <td id="cellPurple">
                  <label for="colorPurple">Purpur</label>
                  <input type="checkbox" id="colorPurple">
                </td>
                <td id="cellTurquoise">
                  <label for="colorTurquoise">Blaugrün</label>
                  <input type="checkbox" id="colorTurquoise">
                </td>
                <td id="cellLightGreen">
                  <label for="colorLightGreen">Hellgrün</label>
                  <input type="checkbox" id="colorLightGreen">
                </td>
                <td id="cellIndigo">
                  <label for="colorIndigo">Blauviolett</label>
                  <input type="checkbox" id="colorIndigo">
                </td>
              </tr>

              <tr>
                <td id="cellDarkYellow">
                  <label for="colorDarkYellow">Dunkelgelb</label>
                  <input type="checkbox" id="colorDarkYellow">
                </td>
                <td id="cellOrangeRed">
                  <label for="colorOrangeRed">Orangerot</label>
                  <input type="checkbox" id="colorOrangeRed">
                </td>
                <td id="cellGold">
                  <label for="colorGold">Gold</label>
                  <input type="checkbox" id="colorGold">
                </td>
                <td id="cellBrown">
                  <label for="colorBrown">Braun</label>
                  <input type="checkbox" id="colorBrown">
                </td>
              </tr>

              <tr>
                <td id="cellGray">
                  <label for="colorGray">Grau</label>
                  <input type="checkbox" id="colorGray">
                </td>
              </tr>

            </table>
          </div>
        </td>


        <td>
          <table>
            <tr>
              <td>
                <p>Kategorien</p>
              </td>
              <td>
                <button id="toggleCategoryButton" onclick="toggleCategory()">Einblenden</button>
              </td>
            </tr>
          </table>

          <div id="categoryChoice">
            <table>
              <tr>
                <td>
                  <label for="cat1">Category 1</label>        <!-- replace "Category 1" (and that only) with desired German name (if desired) -->
                  <input type="checkbox" id="cat1">
                </td>
                <td>
                  <label for="cat4">Category 4</label>        <!-- here too -->
                  <input type="checkbox" id="cat4">
                </td>
              </tr>
              <tr>
                <td>
                  <label for="cat2">Category 2</label>        <!-- here too -->
                  <input type="checkbox" id="cat2">
                </td>
                <td>
                  <label for="cat5">Category 5</label>        <!-- here too -->
                  <input type="checkbox" id="cat5">
                </td>
              </tr>
              <tr>
                <td>
                  <label for="cat3">Category 3</label>        <!-- here too -->
                  <input type="checkbox" id="cat3">
                </td>
                <td>
                  <label for="cat6">Category 6</label>        <!-- here too -->
                  <input type="checkbox" id="cat6">
                </td>
              </tr>
            </table>
          </div>
        </td>


      </tr>
    </table>

    <p>Ergebnisse für: <i><u>{{query}}</u></i></p>

    <table>
      <tr>
        <th>Titel</th>
        <th>Künstler*in</th>
        <th>URL</th>
      </tr>

      {% for item in results %}
      <tr>
        <td>{{item[0]}}</td>
        <td>{{item[1]}}</td>
        <td><a href={{item[2]}}>{{item[2]}}</a></td>
      </tr>
      {% endfor %}

    </table>

    <br>

    <!--<p id="bottomtext">Placeholder</p>-->                                  <!-- for a written by somebody else -->
    <p id="bottomtext">
      <i>
        Hintegrundbild: <a href="https://commons.wikimedia.org/wiki/File:Trichosurus_caninus.jpg">Donald Hobern from Copenhagen, Denmark</a>, <a href="https://creativecommons.org/licenses/by/2.0">CC BY 2.0</a>, via Wikimedia Commons
      </i>
    </p>


  </body>
</html>
